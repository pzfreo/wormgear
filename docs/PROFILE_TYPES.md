# DIN 3975 Tooth Profile Types

This document explains the three tooth profile types implemented according to DIN 3975 standards.

## Overview

The profile type determines the shape of the tooth flanks in the axial section. All three profiles can be used for both worms and wheels.

| Profile | Name | Flanks | Manufacturing | Best For |
|---------|------|--------|--------------|----------|
| **ZA** | Type A | Straight trapezoidal | Turning tool | CNC machining (default) |
| **ZK** | Type K | Circular arc (convex) | Biconical grinding wheel/milling cutter | 3D printing, stress reduction |
| **ZI** | Type I | Involute helicoid | Hobbing | Manufacturing with hobs |

## ZA Profile (Type A - Default)

### Description
- **Flanks**: Straight lines at the pressure angle (typically 20°)
- **Geometry**: Simple trapezoidal tooth in axial section
- **Generation**: Turning tool with straight-sided cutting edge

### Characteristics
- ✅ Simplest to manufacture on CNC lathes
- ✅ Easy to inspect and measure
- ✅ Standard DIN 3975 Type A
- ✅ Predictable contact patterns
- ⚠️ Sharp corners can create stress concentrations

### Usage
```bash
wormgear-geometry design.json --profile ZA  # Default
```

### Best For
- CNC machining with single-point turning tool
- Manual lathes
- Simple, accurate geometry
- Most worm gear applications

---

## ZK Profile (Type K - Circular Arc)

### Description
- **Flanks**: Circular arc in axial section (convex)
- **Geometry**: Generated by biconical grinding wheel or milling cutter
- **Arc radius**: Typically 0.4-0.5 × module

### Characteristics
- ✅ Reduces stress concentrations (smoother transitions)
- ✅ Better for 3D printing (improved layer adhesion)
- ✅ More forgiving contact patterns
- ✅ Slightly higher load capacity
- ⚠️ More complex to manufacture than ZA
- ⚠️ Requires grinding wheel or ball-nose cutter

### Implementation Details
The circular arc flanks are tangential to a double cone whose axis intersects the worm axis at the lead angle. The arc provides a smooth, convex profile that distributes stress more evenly than straight flanks.

### Usage
```bash
wormgear-geometry design.json --profile ZK
```

### Best For
- 3D printing (FDM, SLA)
- Applications with shock loads
- Higher performance requirements
- Grinding wheel manufacturing

---

## ZI Profile (Type I - Involute)

### Description
- **Flanks**: Straight lines in axial section (generatrix of involute helicoid)
- **Geometry**: Involute exists in *normal section* (perpendicular to thread), not axial section
- **Key point**: In axial view (what we model), ZI looks identical to ZA

### Characteristics
- ✅ Manufacturable by hobbing process
- ✅ Straight-line generatrix tangent to base cylinder
- ✅ Standard for hobbed gears
- ✅ True involute action in normal section
- ✅ Conjugate tooth action
- ⚠️ Requires hobbing equipment for true involute form

### Implementation Details
**Important**: The involute helicoid appears as **straight flanks in axial section**.

According to DIN 3975:
> "The tooth forms are sections of an involute helicoids surface, which is tangential to a plane slanted to the axial section by the lead angle. This tangential plane and the worm tooth flank meet in a **straight line**, which is the flank generator."

For worm gears:
- **Axial section** (what we model in build123d): Straight flanks, identical to ZA
- **Normal section** (perpendicular to thread): True involute curve
- The straight line in axial section is a *generatrix* of the involute helicoid surface

This is why ZI and ZA look identical when viewed from the side - the difference is only visible in the normal section or when cutting with a hob.

### Usage
```bash
wormgear-geometry design.json --profile ZI
```

### Best For
- Hobbing manufacturing
- Standard gear cutting processes
- Production environments with hobbing machines
- Applications requiring conjugate tooth action

---

## Comparison

### Visual Differences (Axial Section View)
```
        ZA (Straight)      ZK (Circular)     ZI (Involute)
            ___                ___               ___
           /   \              /   \             /   \
          /     \            /     \           /     \
         |       |          (       )         |       |
         |       |          |       |         |       |
        /         \        /         \       /         \
       /___________\      /___________\     /___________\

     Straight flanks   Convex circular    Straight flanks*
     Sharp corners     Smooth transitions  Sharp corners

     *Note: ZI looks identical to ZA in axial section.
     The involute exists in the normal section (perpendicular to thread).
```

### Manufacturing Methods

| Profile | CNC Lathe | CNC Mill | Hobbing | 3D Print | Grinding |
|---------|-----------|----------|---------|----------|----------|
| ZA      | ✅ Ideal  | ✅ Good  | ❌ No   | ⚠️ OK    | ✅ Good  |
| ZK      | ⚠️ Hard   | ✅ Good  | ❌ No   | ✅ Ideal | ✅ Ideal |
| ZI      | ❌ No     | ⚠️ Hard  | ✅ Ideal| ⚠️ OK    | ✅ Good  |

### Performance Characteristics

| Profile | Load Capacity | Stress Conc. | Contact Pattern | Noise |
|---------|--------------|--------------|-----------------|-------|
| ZA      | Good         | Higher       | Line contact    | Higher|
| ZK      | Better       | Lower        | Area contact    | Lower |
| ZI      | Best         | Lowest       | Conjugate       | Lowest|

---

## Selection Guide

### Choose **ZA** if:
- Using CNC lathe or manual lathe
- Need simple, standard geometry
- Want easiest inspection/measurement
- Cost and simplicity are priorities
- **This is the default and works for most applications**

### Choose **ZK** if:
- 3D printing worm gears
- Want better stress distribution
- Using ball-nose end mill or grinding wheel
- Shock loads or variable loads expected
- Quieter operation desired

### Choose **ZI** if:
- Using hobbing machine for manufacturing
- Need true involute action in normal section
- Production environment with hobbing equipment
- Want to specify "hobbed worm" in documentation
- **Note**: In 3D model, ZI is identical to ZA (both have straight flanks in axial section)
- **The real difference** is in the manufacturing method (hobbing vs. turning)

---

## Technical Implementation

All three profiles are implemented in:
- `src/wormgear_geometry/worm.py` - Cylindrical worm
- `src/wormgear_geometry/globoid_worm.py` - Globoid worm
- `src/wormgear_geometry/wheel.py` - Wheel teeth
- `src/wormgear_geometry/virtual_hobbing.py` - Virtual hobbing simulation

### Mathematical Details

**ZA (Straight):**
```python
# Simple trapezoid at pressure angle
root_left = (inner_r, -thread_half_width_root)
tip_left = (outer_r, -thread_half_width_tip)
Line(root_left, tip_left)  # Straight flank
```

**ZK (Circular Arc):**
```python
# Arc with radius ~0.45 × module
arc_radius = 0.45 * module
arc_bulge = arc_radius * 0.15 * sin(t * π)  # Circular arc
width = linear_width + arc_bulge
```

**ZI (Involute):**
```python
# Base radius from pressure angle
base_radius = pitch_radius * cos(pressure_angle)
inv_angle = sqrt((r / base_radius)² - 1)
# Width interpolated using involute function
```

---

## References

- **DIN 3975**: Definitions and parameters of cylindrical worm gear pairs with shaft angle 90°
- **Gear Solutions Magazine**: [The five standardized worm gear tooth forms](https://gearsolutions.com/departments/tooth-tips/tooth-tips-william-crosher-8/)
- **ScienceDirect**: [Mathematical modeling of ZI-type worm machining](https://www.sciencedirect.com/science/article/abs/pii/S1526612525000714)

---

## Notes

- All profiles respect the same pitch diameter, addendum, and dedendum
- Profile choice does NOT affect gear ratio or centre distance
- Backlash handling is the same for all profiles
- Virtual hobbing works with all three profile types
- Multi-start worms supported with all profiles

**Default recommendation: Start with ZA** unless you have specific requirements for ZK or ZI.
